<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />

    <title>TeenPatti Kings</title>

    <!-- Include Phaser Responsiveness JS -->
    <script type="text/javascript" src="js/phaser.min.js"></script>
    <script type = "text/javascript" src="js/phaser-kinetic-scrolling-plugin.js"></script>
    <script type="text/javascript" src="js/phaser-nineslice.min.js"></script>
    <script type="text/javascript" src="js/phaser-input.min.js"></script>
    <script type = "text/javascript" src = "js/phaser-state-transition.umd.js"></script>
    <script type ="text/javascript" src = "js/phaser-fade.js"></script>
    <script type ="text/javascript" src="js/socket.io/socket.io.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script> -->
<style type="text/css">
    body {
        margin: 0;
        padding: 0;
        background-color :black; 
        /* background-image: url(assets/Common/bg_3.png); */
        background-position : center;
    }
    canvas {
        box-shadow: 0px 0px 5px black;
        /* margin: 20px auto; */
    }
</style>
</head>
<script src = "js/Rules.js" type = "text/javascript"></script>
<script src = "js/SoundManager.js" type = "text/javascript"></script>
<script src = "js/Debug.js" type = "text/javascript"></script>
<script src = "js/constant.js" type = "text/javascript"></script>
<script src = "js/client.js" type="text/javascript"></script>
<script src = "js/main.js" type = "text/javascript"></script>
<script src = "js/settings.js" type = "text/javascript"></script>
<script src = "js/PopUp.js" type ="text/javascript"></script>
<script src = "js/infoPopUp.js" type = "text/javascript"></script>
<script src = "js/Utils.js" type = "text/javascript"></script>
<script src = "js/ChangePicturePpUp.js" type = "text/javascript"></script>
<script src = "js/Loading.js" type ="text/javascript"></script>
<script src = "js/Database.js" type = "text/javascript"></script>
<script src = "js/Player.js" type = "text/javascript"></script>
<script src = "js/Card.js" type = "text/javascript"></script>
<script src = "js/onlineServerEvent.js" type="text/javascript"></script>
<script src = "js/API.js" type = "text/javascript"></script>
<script src = "js/OpponentWaitingPanel.js" type = "text/javascript"></script>
<script src = "js/ChangeNamePopUp.js" type = "text/javascript"></script>
<script src = "js/SideShowPopUp.js" type = "text/javascript"></script>
<script src = "js/ChatBox.js" type = "text/javascript"></script>
<script src = "js/StateTransition.js" type = "text/javascript"></script>
<script src = "js/gift.js" type = "text/javascript"></script>
<script src = "js/MenuController.js" type = "text/javascript"></script>
<script src = "js/NoOpponentFoundPopUp.js" type = "text/javascript"></script>
<script src = "js/LoadAssets.js" type = "text/javascript"></script>
<script src = "js/RoundText.js" type = "text/javascript"></script>
<script>
    function handleConnectionChange(event){
        if(event.type == "offline"){
            console.log("You lost connection.");
            gameStatus ="offline";
            if(gameState == "Menu"){
                PopUp.GenerateCommonPopup('You Lost Connection');
            }
            else if(gameState == "Gameplay"){
                PopUp.GenerateCommonPopup('You Lost Connection');
                Utils.DisableAllPlayer();
                Utils.GameRefresh();
                Utils.DestroyDeafultPlayerSprite();
                StateTransition.TransitToMenu();
            }
        }
        if(event.type == "online"){
            if(gameState == "Menu"){
                StateTransition.TransitToMenu();
                PopUp.GenerateCommonPopup('You are now back online');
            }
            else if(gameState == "Gameplay"){
                StateTransition.TransitToMenu();
                PopUp.GenerateCommonPopup('You are now back online');
            }
        }
        console.log(new Date(event.timeStamp));
    }
    window.addEventListener('online', handleConnectionChange);
    window.addEventListener('offline', handleConnectionChange);
</script>
</html>